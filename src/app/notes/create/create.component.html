<div class="editor">
  <form class="editor__form" [formGroup]="form">
    <div class="editor__header">
      <mat-form-field class="editor__title">
        <input
          type="text"
          formControlName="title"
          matInput
          #titleInput
          placeholder="タイトル*"
          autocomplete="off"
        />
        <mat-hint align="end">{{ titleInput.value?.length || 0 }}/255</mat-hint>
        <mat-error *ngIf="titleControl.hasError('required')"
          >必須項目です</mat-error
        >
        <mat-error *ngIf="titleControl.hasError('maxlength')"
          >タイトルは255文字以内です</mat-error
        >
      </mat-form-field>
      <app-tag-form
        class="editor__tags"
        [parentForm]="form"
        [tags]="tags"
      ></app-tag-form>
    </div>
    <div class="editor__content">
      <app-editor [parentForm]="form"></app-editor>
    </div>
    <div class="editor__buttons">
      <mat-slide-toggle class="public-option" formControlName="isPublic"
        >公開設定</mat-slide-toggle
      >
      <button class="cancel-button" mat-button (click)="cancel()">
        キャンセル
      </button>
      <button
        [disabled]="form.invalid || form.pristine"
        class="post-button"
        mat-flat-button
        color="primary"
        (click)="submit()"
      >
        {{ isPublicControl.value ? '記事を公開' : '下書き保存' }}
      </button>
    </div>
  </form>
</div>
